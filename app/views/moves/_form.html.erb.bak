<%= nested_form_for(@move) do |f| %>
  <% if @move.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@move.errors.count, "error") %> prohibited this move from being saved:</h2>

      <ul>
      <% @move.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :type %><br>
    <%= select_tag(:type, options_for_select(%w(Macro Meso Micro Nano), @move.type)) %>
  </div>
  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :notes %><br>
    <%= f.text_area :notes, :rows => 3 %>  
  </div>
  <div class="field">
    <%= f.label :start_date %><br>
    <%= f.datetime_select :start_date %>
  </div>
  <% if @move.type != "Nano" %>
	  <div class="field">
	    <%= f.label :end_date %><br>
	    <%= f.datetime_select :end_date %>
	  </div>
  <% end %>
  <div class="field">
    <%= f.label :distance %><br>
    <%= f.text_field :distance %>
  </div>
  <div class="field">
    <%= f.label :duration %><br>
    <%= f.time_select :duration %>
  </div>
  <% if @move.type == "Nano" %>
  	<table width="80%">
	  <thead>
	    <tr>
	      <th>Name</th>
	      <th>Notes</th>
	      <th>Times</th>
	      <th>Distance</th>
	      <th>Duration</th>
	      <th>Pace</th>
	      <th>Rest</th>
	    </tr>
	  </thead>
	  <tbody>
  		<%= f.fields_for :steps %>
  	  </tbody>
	</table> 
  <% end %>  	
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
